# aztec-standards

A monorepo for building, compiling, and testing standard token contracts in Noir (Aztec’s ZK language), with TypeScript integration tests and a local PXE sandbox.

## Table of Contents
- [Overview](#overview)
- [Getting Started](#getting-started)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
- [Usage](#usage)
  - [Code Generation](#code-generation)
  - [Compile Contracts](#compile-contracts)
  - [Running PXE Sandbox](#running-pxe-sandbox)
- [Testing](#testing)
  - [Noir Unit Tests](#noir-unit-tests)
  - [JavaScript Integration Tests](#javascript-integration-tests)
- [Project Structure](#project-structure)
- [Contributing](#contributing)
- [License](#license)

## Overview

`aztec-standards` provides a standard ERC-20-style token implementation in Noir, along with automated pipelines to:

- Generate JS/TS bindings and artifacts via `aztec codegen`.
- Compile the Noir circuits with `aztec-nargo compile`.
- Validate logic with native Noir tests (`aztec test`).
- Execute end-to-end flows in JavaScript against an Aztec PXE sandbox or in-memory node.

## Getting Started

### Prerequisites

- Node.js (>=16.x) & Yarn
- [Aztec CLI & Nargo](https://docs.aztec.network/) (`npm install -g @aztec/cli @aztec/nargo`)
- Docker & Docker Compose (for PXE sandbox)

### Installation

```bash
# Clone the repo
git clone https://github.com/defi-wonderland/aztec-standards.git
cd aztec-standards

# Install dependencies
yarn install
```

## Usage

### Code Generation

Generate smart-contract artifacts (ABI, bytecode, JS wrappers):
```bash
yarn codegen
```

### Compile Contracts

Compile the Noir circuits to ZK bytecode:
```bash
yarn compile
```

### Running PXE Sandbox

Launch a local Aztec PXE sandbox (requires Docker):
```bash
yarn start:pxe
```

## Testing

### Noir Unit Tests

Run low-level circuit tests in pure Noir:
```bash
yarn test:nr
```

### JavaScript Integration Tests

Execute end-to-end flows via Jest and Aztec.js:
```bash
yarn test:js
```

## Project Structure

```text
.
├── Nargo.toml                 # Root workspace for Noir projects
├── package.json               # JS/TS project config & scripts
├── src
│   ├── token_contract         # Noir contract project
│   │   ├── Nargo.toml         # Contract-specific build settings
│   │   └── src
│   │       ├── main.nr        # ERC-20-style token circuit
│   │       └── test.nr        # Native Noir unit tests
│   ├── artifacts              # Generated by `yarn codegen`
│   └── ts
│       └── test               # JS/TS integration tests (Jest)
├── tsconfig.json
└── jest.integration.config.json
```

## Contributing

1. Fork the repository and create your branch: `git checkout -b feature/YourFeature`
2. Make your changes and add tests
3. Run `yarn test` to ensure all checks pass
4. Open a pull request describing your changes

## License

This project is licensed under the MIT License. See [LICENSE](LICENSE) for details.